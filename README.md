# Medical Lab Analyzer - Ù†Ø¸Ø§Ù… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø·Ø¨ÙŠ

A comprehensive medical laboratory management system with video analysis capabilities, built using WPF, .NET 8, Entity Framework Core, and EmguCV.

Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø·Ø¨ÙŠ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŒ Ù…Ø¨Ù†ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… WPF Ùˆ .NET 8 Ùˆ Entity Framework Core Ùˆ EmguCV.

## ğŸš€ Features - Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

### Core Functionality - Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
- **Patient Management** - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰
- **Exam Management** - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ­ÙˆØµØ§Øª
- **Video Analysis** - ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… EmguCV
- **Reporting System** - Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± (Crystal Reports + PDF fallback)
- **User Authentication & Authorization** - Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„ØªÙÙˆÙŠØ¶
- **Backup & Restore** - Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙˆØ§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©
- **Multi-language Support** - Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª (English/Arabic)

### Technical Features - Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©
- **Modern WPF MVVM Architecture** - Ù‡ÙŠÙƒÙ„ WPF MVVM Ø­Ø¯ÙŠØ«
- **Entity Framework Core** - Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª SQLite
- **Material Design UI** - ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù… Material Design
- **Dependency Injection** - Ø­Ù‚Ù† Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª
- **Comprehensive Logging** - ØªØ³Ø¬ÙŠÙ„ Ø´Ø§Ù…Ù„
- **Async/Await Pattern** - Ù†Ù…Ø· Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ØºÙŠØ± Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†
- **Error Handling** - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

## ğŸ› ï¸ Prerequisites - Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

### Required Software - Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
- **Visual Studio 2022/2025** (Community/Professional/Enterprise)
- **.NET 8.0 SDK**
- **Windows 10/11** (x64)

### Optional Software - Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©
- **SAP Crystal Reports** (for advanced reporting)
- **SQLite Browser** (for database management)

## ğŸ“¦ Installation - Ø§Ù„ØªØ«Ø¨ÙŠØª

### 1. Clone/Download - Ø§Ø³ØªÙ†Ø³Ø§Ø®/ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
```bash
git clone https://github.com/yourusername/MedicalLabAnalyzer.git
cd MedicalLabAnalyzer
```

### 2. Build & Run - Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„ØªØ´ØºÙŠÙ„
1. Open `MedicalLabAnalyzer.sln` in Visual Studio
2. Restore NuGet packages
3. Build the solution (Ctrl+Shift+B)
4. Run the application (F5)

### 3. First Launch - Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„
- Default admin credentials: **admin / Admin@123**
- Database will be automatically created at `Database/medical_lab.db`
- Sample data will be seeded automatically

## ğŸ—ï¸ Project Structure - Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
MedicalLabAnalyzer/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ MedicalLabAnalyzer/
â”‚       â”œâ”€â”€ Models/           # Entity models
â”‚       â”œâ”€â”€ ViewModels/       # MVVM ViewModels
â”‚       â”œâ”€â”€ Views/            # WPF Views
â”‚       â”œâ”€â”€ Services/         # Business logic services
â”‚       â”œâ”€â”€ Data/             # Entity Framework context
â”‚       â”œâ”€â”€ Resources/        # Images, icons, styles
â”‚       â”œâ”€â”€ Reports/          # Crystal Reports (.rpt files)
â”‚       â””â”€â”€ Utils/            # Utility classes
â”œâ”€â”€ tests/                    # Unit tests
â”œâ”€â”€ install/                  # Inno Setup installer
â”œâ”€â”€ Database/                 # SQLite database
â””â”€â”€ logs/                     # Application logs
```

## ğŸ”§ Configuration - Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

### App Settings - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
Edit `appsettings.json` to configure:
- Database connection string
- Logging levels
- Video analysis parameters
- Report settings

### Crystal Reports - ØªÙ‚Ø§Ø±ÙŠØ± Crystal
1. Install SAP Crystal Reports
2. Add `CRYSTAL` to Build symbols
3. Place `.rpt` files in `Reports/` folder
4. Rebuild solution

## ğŸ“Š Usage Guide - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### Patients Management - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰
1. Navigate to **Patients** section
2. Click **Add New Patient** to create patient records
3. Fill in patient information (Name, National ID, Date of Birth, etc.)
4. Save patient data

### Exams Management - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ­ÙˆØµØ§Øª
1. Go to **Exams** section
2. Select a patient for the exam
3. Enter exam details (Type, Name, Description)
4. Set exam status and assign technician/doctor
5. Add video files if applicable

### Video Analysis - ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
1. Navigate to **Video Analysis**
2. Select an exam with video
3. Choose video file (MP4, AVI supported)
4. Click **Analyze Video** to start processing
5. View analysis results (motion detection, object count, brightness)

### Reports Generation - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
1. Go to **Reports** section
2. Select report type and parameters
3. Choose export format (PDF/Crystal)
4. Generate and download report

## ğŸ§ª Testing - Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

### Unit Tests - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª
```bash
# Run all tests
dotnet test

# Run specific test project
dotnet test tests/MedicalLabAnalyzer.Tests/
```

### Integration Tests - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙƒØ§Ù…Ù„
- Database operations
- Service interactions
- Video analysis workflows

## ğŸ“¦ Deployment - Ø§Ù„Ù†Ø´Ø±

### Publishing - Ø§Ù„Ù†Ø´Ø±
```bash
# Publish for Windows x64
dotnet publish src/MedicalLabAnalyzer/MedicalLabAnalyzer.csproj \
    -c Release \
    -r win-x64 \
    -p:PublishSingleFile=true \
    --self-contained true
```

### Installer Creation - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø«Ø¨Øª
1. Install Inno Setup
2. Open `install/MedicalLabAnalyzer.iss`
3. Build installer
4. Distribute generated `.exe` file

## ğŸ”’ Security - Ø§Ù„Ø£Ù…Ø§Ù†

### Authentication - Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- SHA256 password hashing
- Session management
- Role-based access control

### Data Protection - Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Input validation
- SQL injection prevention
- Secure file handling

## ğŸ“ Logging - Ø§Ù„ØªØ³Ø¬ÙŠÙ„

### Log Levels - Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
- **Information**: General application events
- **Warning**: Potential issues
- **Error**: Errors and exceptions
- **Debug**: Detailed debugging information

### Log Files - Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
- Location: `logs/app.log`
- Rolling daily logs
- Structured logging with Serilog

## ğŸ› Troubleshooting - Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

### Common Issues - Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

#### Build Errors - Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¨Ù†Ø§Ø¡
```bash
# Clean solution
dotnet clean
# Restore packages
dotnet restore
# Rebuild
dotnet build
```

#### Database Issues - Ù…Ø´Ø§ÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Delete `Database/medical_lab.db`
- Restart application
- Database will be recreated automatically

#### Video Analysis Errors - Ø£Ø®Ø·Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
- Ensure video file is valid MP4/AVI
- Check EmguCV runtime files
- Verify video codec compatibility

#### Crystal Reports Issues - Ù…Ø´Ø§ÙƒÙ„ Crystal Reports
- Verify Crystal Reports installation
- Check `CRYSTAL` build symbol
- Ensure `.rpt` files are in correct location

## ğŸ¤ Contributing - Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

### Development Guidelines - Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±
1. Follow MVVM pattern
2. Use async/await for I/O operations
3. Implement proper error handling
4. Add unit tests for new features
5. Follow C# coding conventions

### Code Style - Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙƒÙˆØ¯
- Use meaningful variable names
- Add XML documentation
- Implement proper logging
- Handle exceptions gracefully

## ğŸ“„ License - Ø§Ù„ØªØ±Ø®ÙŠØµ

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø±Ø®Øµ ØªØ­Øª Ø±Ø®ØµØ© MIT - Ø±Ø§Ø¬Ø¹ Ù…Ù„Ù [LICENSE](LICENSE) Ù„Ù„ØªÙØ§ØµÙŠÙ„.

## ğŸ™ Acknowledgments - Ø§Ù„Ø´ÙƒØ± ÙˆØ§Ù„ØªÙ‚Ø¯ÙŠØ±

- **EmguCV** for computer vision capabilities
- **Material Design** for modern UI components
- **Entity Framework Core** for data access
- **Serilog** for structured logging
- **Community contributors** for feedback and suggestions

## ğŸ“ Support - Ø§Ù„Ø¯Ø¹Ù…

### Getting Help - Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
- **Issues**: Create GitHub issue
- **Documentation**: Check project wiki
- **Community**: Join discussions

### Contact - Ø§Ù„ØªÙˆØ§ØµÙ„
- **Email**: support@medicallab.com
- **GitHub**: [Project Repository](https://github.com/yourusername/MedicalLabAnalyzer)

---

**Note**: This application is designed for medical laboratory use. Ensure compliance with local healthcare regulations and data protection laws.

**Ù…Ù„Ø§Ø­Ø¸Ø©**: ØªÙ… ØªØµÙ…ÙŠÙ… Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø§Ù„Ù…Ø®ØªØ¨Ø±Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙˆÙ‚ÙˆØ§Ù†ÙŠÙ† Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.